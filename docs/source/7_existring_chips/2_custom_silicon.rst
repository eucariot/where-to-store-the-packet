Custom silicon
==============

| Настало время поговорить про вендоров сетевого оборудования, которые всё ещё в состоянии содержать свой гигантский штат R&D.
| Но именно с них когда-то всё и начиналось, рыночных чипов не было, а каждый производитель разрабатывал и изготавливал свои сетевые процессоры и ASIC'и.
| И это сложно сегодня, потому что когда другие могут сосредоточиться только на аппаратной обвязке вокруг чипа и софте, другим приходится выделять ресурсы на фундаментальные разработки. Стоит отдать дань уважения вендорам за это.

  .. note:: | Занимательный факт. Во время санкционной войны лета 2019 у Huawei был невоображаемый сценарий вылететь с рынка - американская компания Broadcom заморозила поставку ASIC'ов для их линейки CloudEngine.
           | Всё, конечно, завершилось хорошо.
           | Но почти одновременно с этим вышел модульный коммутатор CE16800 на чипах собственного производства, и обещали пицца-боксы. 
           | Ясное дело, что занимались они этой разработкой уже довольно давно, наверно, лет 5.
           | Однако сей факт намекает на то, что, возможно, не так уж и плоха идея вкладываться в разработку своих чипов.

Очевидно, что и у них не по одному типу ASIC'ов, развивающихся планомерно и интегрирующихся во все новые устройства - они делятся по сериям железок, по их ролям. Не забываем и о том, насколько большие компании любят поглощения.

Я не собираюсь здесь погружаться в детали, перечисляя все их виды и возможности. Пройдёмся только поверхностно по наиболее известным из них.

Juniper
-------

| В первую очередь это, конечно, легендарный `ASIC Trio <https://www.juniper.net/us/en/local/pdf/whitepapers/2000331-en.pdf>`_, который бьётся внутри всех маршрутизаторов MX.
| Марат Бабаян в своё время написал `прекрасную статью <https://habr.com/ru/post/307696/>`_ о его работе.

| Внутри их магистральных коробок - **ASIC Express** (ZX, TRITON).
| А датацентровые коммутаторы, вроде QFX 10000, заряжены чипом **Q5**. **Q5** - это маректинговое название, `внутреннее <https://ru.scribd.com/presentation/369686635/04-Elit-Paradise-ATAC-TOI>`_ - **Paradise**. При этом часть PFE, стоящая на линейной плате называется - ELIT, а фабричная - ULTIMAT.


Huawei
------

| У этих ребят тоже давняя история разработки своих чипов.
| Когда-то начиналось с интеловских асиков, потом были эксперименты с чипом Marvell, а потом масть пошла. И новые поколения сетевых процессоров стали появляться один за другим.
| Они отличаются от поколения к поколению, от класса к классу, от серии к серии.
| Но для внешней людей их объединили в две линейки: 

    * **Ascend** для датацентров
    * **Solar** для провайдеров и операторов

| На самом деле это весьма распространённая практика. Тот же Broadcom: 
| Tomahawk3 - известное всем название чипа.
| StrataXGS - семейство чипов (не то чтобы на слуху у каждого)
| BCM56980 - внутреннее название чипа (не понадобится вам, если не собираетесь препарировать SDK).

Cisco
-----

Можно сказать, что новейшие линейки программируемых чипов это:

    * **Cisco Silicon One**, установленный в линейку `Cisco 8000 <https://www.cisco.com/c/en/us/products/routers/8000-series-routers/index.html#~services>`_.
    * **UADP** - Unified Access Data Plane - программируемый ASIC для каталист и некоторых нексусов
    * **QFP** - Quantum Flow Processor - для ASR и ESP

А в глубине веков начинается такой, зоопарк, что я просто кину несколько, даже не пытаясь докопаться до глубин:

    * Sasquatch, Strider - каталисты 29хх и 3ххх
    * K1, K2, K5, K10 - каталисты 4000 и 4500
    * EARL1>EARL8 - ещё разнообразные каталисты и Nexus 7000
    * Monticello - Nexus 3548
    * Big Sur - Nexus 6000
    * F3 - Nexus 7000/7700
    * nPower X1 - сетевой процессор для NCS.

`Замечательные слайды <https://www.ciscolive.com/c/dam/r/ciscolive/us/docs/2016/pdf/BRKARC-3467.pdf>`_, кстати, о производстве цискиных чипов и их устройстве.

И `слайды <https://people.ucsc.edu/~warner/Bufs/BRKDCN-3734.pdf>`_ про использование рыночных чипов в нексусах и их (чипов) архитектуру.

Отечественная микроэлектроника
------------------------------

| Похвастаться терабитами, увы не можем, но вот есть 88Гб/с L3-коммутатор от "Цифровых решений" с поддержкой 1Гб/с, 10 Гб/с портов на собственном FPGA: `Феникс-1/10G <https://dsol.ru/telecommunication/switches/>`_.
| Обещали на базе этого FPGA потом выпустить ASIC, но чем история закончилась неизвестно.
| Кстати, будут у нас в гостях.